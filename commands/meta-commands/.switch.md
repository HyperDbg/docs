---
description: Description of '.switch' command in HyperDbg.
---

# .switch (show the list and switch between active debugging processes)

### Command

> .switch

### Syntax

> .attach \[list | pid | tid] \[process id | thread id (hex)]

### Description

Shows a list of active debugging processes and threads or switches between different active debugging threads and processes.

{% hint style="info" %}
This command won't use any Windows API for intercepting and pausing threads, and everything is done at the hypervisor level.
{% endhint %}

### Parameters

**\[list | pid | tid]**

The target process id

**\[process id | thread id (hex)]**

The thread id or the process id to set as active debugging thread/process.

### Examples

Imagine we want to attach to a running program with process id equal to `12c0`.

```
HyperDbg> .attach pid 12c0
```

### IOCTL

This function works by calling **DeviceIoControl** with `IOCTL = IOCTL_DEBUGGER_ATTACH_DETACH_USER_MODE_PROCESS`. You have to send it in the following structure.

```c
typedef struct _DEBUGGER_ATTACH_DETACH_USER_MODE_PROCESS
{
    BOOLEAN                                              IsStartingNewProcess;
    UINT32                                               ProcessId;
    UINT64                                               ThreadId;
    BOOLEAN                                              Is32Bit;
    UINT64                                               BaseAddressOfMainModule;
    UINT64                                               EntrypoinOfMainModule;
    DEBUGGER_ATTACH_DETACH_USER_MODE_PROCESS_ACTION_TYPE Action;
    UINT64                                               Result;

} DEBUGGER_ATTACH_DETACH_USER_MODE_PROCESS, *PDEBUGGER_ATTACH_DETACH_USER_MODE_PROCESS;
```

First, you should fill the **ProcessId** set the **IsStartingNewProcess** to `FALSE` and **Action** to `DEBUGGER_ATTACH_DETACH_USER_MODE_PROCESS_ACTION_ATTACH` in the above structure, when the IOCTL returns from the kernel, other parts are filled with appropriate data from the process.

After getting the results from the kernel and if the **Result** is equal to `DEBUGGER_OPERATION_WAS_SUCCESSFULL` the pausing phase of the process is started.

The **Action** can be from the following enum:

```
typedef enum _DEBUGGER_ATTACH_DETACH_USER_MODE_PROCESS_ACTION_TYPE
{
    DEBUGGER_ATTACH_DETACH_USER_MODE_PROCESS_ACTION_ATTACH,
    DEBUGGER_ATTACH_DETACH_USER_MODE_PROCESS_ACTION_DETACH,
    DEBUGGER_ATTACH_DETACH_USER_MODE_PROCESS_ACTION_REMOVE_HOOKS,
    DEBUGGER_ATTACH_DETACH_USER_MODE_PROCESS_ACTION_KILL_PROCESS,
    DEBUGGER_ATTACH_DETACH_USER_MODE_PROCESS_ACTION_PAUSE_PROCESS,

} DEBUGGER_ATTACH_DETACH_USER_MODE_PROCESS_ACTION_TYPE;
```

### Remarks

This command is logically designed to be used in [**VMI Mode**](https://docs.hyperdbg.org/using-hyperdbg/prerequisites/operation-modes#vmi-mode). You can use the '[.process](https://docs.hyperdbg.org/commands/meta-commands/.process)' and the '[.thread](https://docs.hyperdbg.org/commands/meta-commands/.thread)' commands in [**Debugger Mode**](https://docs.hyperdbg.org/using-hyperdbg/prerequisites/operation-modes#debugger-mode).

### Requirements

None

### Related

[.start (start a new process)](https://docs.hyperdbg.org/commands/meta-commands/.start)

[.restart (restart the process)](https://docs.hyperdbg.org/commands/meta-commands/.restart)

[.attach (attach to a process)](https://docs.hyperdbg.org/commands/meta-commands/.attach)

[.detach (detach from the process)](https://docs.hyperdbg.org/commands/meta-commands/.detach)

[.kill (terminate the process)](https://docs.hyperdbg.org/commands/meta-commands/.kill)
